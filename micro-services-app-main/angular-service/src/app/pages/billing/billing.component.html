<div class="container fade-in">
    <h2 class="page-title">Billing</h2>

    <div *ngIf="loading" class="loading">Loading bills...</div>
    <div *ngIf="error" class="error">{{ error }}</div>

    <div *ngIf="!loading && !error" class="card table-container">
        <table>
            <thead>
                <tr>
                    <th>Bill ID</th>
                    <th>Date</th>
                    <th>Customer ID</th>
                    <th>Items Count</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let bill of bills">
                    <td style="width: 80px; color: var(--text-secondary)">#{{ bill.id }}</td>
                    <td>
                        <div style="display: flex; align-items: center; gap: 0.5rem">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24"
                                fill="none" stroke="var(--accent-secondary)" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <rect width="18" height="18" x="3" y="4" rx="2" ry="2" />
                                <line x1="16" y1="2" x2="16" y2="6" />
                                <line x1="8" y1="2" x2="8" y2="6" />
                                <line x1="3" y1="10" x2="21" y2="10" />
                            </svg>
                            {{ bill.billingDate | date }}
                        </div>
                    </td>
                    <td>
                        <div style="display: flex; align-items: center; gap: 0.5rem">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24"
                                fill="none" stroke="var(--text-secondary)" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M19 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
                                <circle cx="9" cy="7" r="4" />
                            </svg>
                            {{ bill.customerId }}
                        </div>
                    </td>
                    <td>
                        <span class="badge badge-warning">
                            {{ bill.productItems ? bill.productItems.length : 'N/A' }} Items
                        </span>
                    </td>
                    <td>
                        <button class="btn action-btn">
                            View Details
                        </button>
                    </td>
                </tr>
                <tr *ngIf="bills.length === 0">
                    <td colspan="5" style="text-align: center; padding: 2rem">No bills found</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>